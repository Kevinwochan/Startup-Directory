{% extends 'base.html' %}
 
{% block content %}
  <title>Student Startup Directory</title>
    <div class="container" id="main">
    <div class="row">
        <h1>Student Startup Directory</h1>
        <table class="table table-striped" data-toggle="table" data-url="data" data-cache="false">
            <thead>
                <tr>
                    <th data-field="logo">Logo</th>
                    <th data-field="name">
                       {% if '-name' in lambdas %}
                       Name <a href="{% url 'directory:index' 'name' %}" class="sort-icon">
                            <i class="fas fa-arrow-down"></i>
                       </a>
                       {% elif 'name' in lambdas %}
                       Name <a href="{% url 'directory:index' '-name' %}" class="sort-icon">
                            <i class="fas fa-arrow-up"></i>
                       </a>
                       {% else %}
                       <a href="{% url 'directory:index' 'name' %}">Name</a>
                       {% endif %}
                    </th>
                    <th data-field="description">Description</th>
                    <th data-field="industries">
                       {% if '-industries' in lambdas %}
                       Industries 
                       <a href="{% url 'directory:index' 'industries' %}" class="sort-icon">
                            <i class="fas fa-arrow-down"></i>
                       </a>
                       {% elif 'industries' in lambdas %}
                       Industries 
                       <a href="{% url 'directory:index' '-industries' %}" class="sort-icon">
                            <i class="fas fa-arrow-up"></i>
                       </a>
                       {% else %}
                       <a href="{% url 'directory:index' 'industries' %}">Industries</a>
                       {% endif %}
                    </th>
                    <th data-field="founded">
                       {% if '-year_founded'  in lambdas %}
                       Year Founded 
                       <a href="{% url 'directory:index' 'year_founded' %}" class="sort-icon">
                            <i class="fas fa-arrow-down"></i>
                       </a>
                       {% elif 'year_founded'  in lambdas %}
                       Year Founded
                        <a href="{% url 'directory:index' '-year_founded' %}" class="sort-icon">
                            <i class="fas fa-arrow-up"></i>
                       </a>
                       {% else %}
                       <a href="{% url 'directory:index' 'year_founded' %}">Founded</a>
                       {% endif %}
                    </th>
                    <th data-field="stage">
                       {% if '-stage' in lambdas %}
                       Stage <a href="{% url 'directory:index' 'stage' %}" class="sort-icon">
                            <i class="fas fa-arrow-down"></i>
                       </a>
                       {% elif 'stage' in lambdas %}
                        Stage <a href="{% url 'directory:index' '-stage' %}" class="sort-icon">
                            <i class="fas fa-arrow-up"></i>
                       </a>
                       {% else %}
                       <a href="{% url 'directory:index' 'stage' %}">Stage</a>
                       {% endif %}
                    </th>
<!--
                   <th data-field="funding">
                   {% if '-funding' in lambdas %}
                   Funding <a href="{% url 'directory:index' 'funding' %}" class="sort-icon">
                        <i class="fas fa-arrow-down"></i>
                   </a>
                   {% elif 'funding' in lambdas %}
                   Funding <a href="{% url 'directory:index' '-funding' %}" class="sort-icon">
                        <i class="fas fa-arrow-up"></i>
                   </a>
                   {% else %}
                   <a href="{% url 'directory:index' 'funding' %}">Funding</a>
                   {% endif %}
-->
                </tr>
            </thead>
            <tbody>
            {% for company in companies %}
            <tr class="{% cycle 'odd' 'even' %}">
                    <th data-field="logo">
                        <a href="profile/{{ company.id }}">
                        <img class="logo" src="media/{{ company.logo }}"></a></th>   
                    <th data-field="name">
                        <a href="profile/{{ company.id }}">{{ company.name }} </a> </th>
                    <th data-field="description">{{ company.description }}</th>
                    <th data-field="industries">{{ company.industries }}</th>
                    <th data-field="founded">{{ company.year_founded }}</th>
                    <th data-field="stage">{{ company.stage }}</th>
<!--
                    <th data-field="funding">{{ company.funding }} {{company.funding_unit }}</th>
-->
                </tr>
            {% empty %}
                <p> No Companies Found </p>
            {% endfor %}
            </tbody>
        </table>
        
        <div class="pagination">
            <span class="step-links">
                {% if companies.has_previous %}
                    <a href="?page=1">&laquo; first</a>
                    <a href="?page={{companies.previous_page_number}}">previous</a>
                {% endif %}

                <span class="current">
                    Page {{ companies.number }} of {{ companies.paginator.num_pages }} 
                </span>

                {% if companies.has_next %}
                    <a href="?page={{ companies.next_page_number}}">next</a>
                    <a href="?page={{companies.paginator.num_pages}}">last &raquo;</a>
                {% endif %}
            </span>
        </div>
    </div>
</div>
{% endblock %}
